@model LCCS_School_Parent_Communication_System.viewModels.groupStructureViewModel
@{
    ViewBag.Title = "manageGroup";
}
<style>
</style>

<script>
    $(document).ready(function () {
        $('#tblGroupStructureList').DataTable();
    });
</script>
<style>
    .container {
        width: 95%
    }

    .side {
        display: inline-block
    }
</style>

    

    <div class="container mb-3 mt-3 bg-light border-top border-bottom-0 border-4 rounded-3">
        <h1 class="border-bottom border-5 p-3 mb-4">Group Structure List</h1>
        <table class="table table-striped table-bordered" id="tblGroupStructureList">
            <thead>
                <tr>
                    
                    <th scope="col">Academic Quarter</th>
                    <th scope="col">Group Structure Name</th>
                    <th scope="col">Section Name</th>
                    <th scope="col">Min Number of Members</th>
                    <th scope="col">Max Number of Members</th>
                    <th scope="col">
                        @using (Html.BeginForm("addGroupStructure", "THome", FormMethod.Get))
                        {
                            <input type="submit" name="add" value="Add" class="btn btn-primary" style="width:100%" />
                        }
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var k in Model.groupList)
                {

                    <tr>
                       
                        <td>@k.academicQuarter</td>
                        <td>@k.groupStructureName</td>
                        <td>@k.section.sectionName</td>
                        <td>@k.minNumberOfMembers</td>
                        <td>@k.maxNumberOfMembers</td>

                        <td>
                            <div class="side">
                                @using (Html.BeginForm("classifyGroup", "THome", new { grIdOne = k.groupStructureId.ToString() }, FormMethod.Get))
                                {
                                    if (k.completeStatus == 0)
                                    {
                                        <input type="submit" name="classify" value="Classify" class="btn btn-primary" />
                                        <input type="text" name="txtImportant" value=@k.groupStructureId style="display:none" />

                                    }
                                }


                                @using (Html.BeginForm("viewGroup", "THome", new { grIdOne = k.groupStructureId.ToString() }, FormMethod.Get))
                                {
                                    if (k.completeStatus == 1)
                                    {
                                        <input type="submit" name="view" value="View Details" class="btn btn-primary" />
                                        <input type="text" name="txtImportant" value=@k.groupStructureId style="display:none" />

                                    }
                                }
                            </div>
                            <div class="side">
                                @using (Html.BeginForm("manageGroup", "THome", new { grId = k.groupStructureId.ToString() }, FormMethod.Post))
                                {

                                    <input type="submit" name="delete" value="Delete" class="btn btn-danger" />

                                }
                            </div>



                        </td>
                    </tr>


                }
            </tbody>
        </table>


    </div>

    @if (ViewBag.cannotDelete != " " && ViewBag.cannotDelete != null)
    {
        <div class="alert alert-danger">

            @ViewBag.cannotDelete
        </div>
    }
