@model LCCS_School_Parent_Communication_System.viewModels.parentViewModel
@{
    ViewBag.Title = "parentManagement";
}


@using (Html.BeginForm("parentManagement", "RHome", FormMethod.Post))
{
    @Html.HiddenFor(a => a.studentId);
   @* @Html.TextBoxFor(a => a.studentId, new { htmlAttributes = new { @readonly = true } });
*@
<div class="row d-flex align-self-center">
    <div class="form-group col-xl-6 ">
        @Html.LabelFor(a => a.studentFullName)
        @Html.EditorFor(a => a.studentFullName,new {htmlAttributes=new{ @class="form-control"} })
    
    </div>
    <div class="form-group col-xl-6">
        @Html.LabelFor(a => a.fullName)
        @Html.EditorFor(a => a.fullName, new { htmlAttributes = new { @class = "form-control" } })
       
    </div>

    </div>
<div class="row">
    <div class="form-group col-xl-6">
        @Html.LabelFor(a => a.email)
        @Html.EditorFor(a => a.email, new { htmlAttributes = new { @class = "form-control" } })
 
    </div>
    <div class="form-group col-xl-6">
        @Html.LabelFor(a => a.phoneNumber)
        @Html.EditorFor(a => a.phoneNumber, new { htmlAttributes = new { @class = "form-control" } })
       
    </div>
        </div>
<div class="text-center">
    <input type="submit" name="search" value="Search" class="btn btn-primary "/>

    <input type="submit" name="add" value="Add "class="btn btn-primary bg-green" />
</div>
   
    }
   
    <div class="alert alert-danger" role="alert">
        @ViewBag.Message
        @ViewBag.existenceMessage
        @Html.ValidationSummary()
    </div>

    @if (@ViewBag.startStudent == true)
    {
        <h1>Student List</h1>

        <table class="table table-striped">
            <tr>
                <th scope="col">Full Name</th>
                <th scope="col">Section</th>

            </tr>
            @foreach (var k in Model.studentList)
            {
                <tr>
                    <td>@k.fullName</td>
                    <td>@k.sectionName</td>
                    <td>
                        @using (Html.BeginForm("parentManagement", "RHome", new { id = k.studentId.ToString() }, FormMethod.Post))
                        {
                            <input type="submit" name="select" value="Select" class="btn btn-primary "/>
                        }
                    </td>
                </tr>
            }

        </table>
    }
    @if (@ViewBag.startParent == true)
    {
        <h1>Parent List</h1>
        <table class="table table-striped">
            <tr>
                <th scope="col">Full Name</th>
                <th scope="col">Student Name</th>
                <th scope="col">Email</th>
            </tr>

            @foreach (var k in Model.parentList)
            {
                <tr>
                    <td>@k.user.fullName</td>
                    <td>@k.student.fullName</td>
                    <td>@k.user.Email</td>
                    <td>@k.user.PhoneNumber</td>
                    <td>
                        @using (Html.BeginForm("parentManagement", "RHome", new { pid = k.parentId }, FormMethod.Post))
                        {
                            <input type="submit" name="delete" value="Delete" class="btn btn-danger "/>
                        }
                    </td>
                </tr>
            }
        </table>

    }
