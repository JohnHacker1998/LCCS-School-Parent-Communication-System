@model LCCS_School_Parent_Communication_System.viewModels.AbsenceRecordViewMoel
@{
    ViewBag.Title = "addAttendance";
}
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<div class="form-group text-center">
    <script>
        $(document).ready(function () {
            $('#tblAbsenceRecord').DataTable();
        });
    </script>
    <h1>@DateTime.Now.ToShortDateString()</h1>
    @using (Html.BeginForm("addAttendance", "HTHome", FormMethod.Post))
    {<div class="container  mt-3">
            <div class="row ">

                @Html.ListBoxFor(a => a.selectedStudents, Model.studentList, new { htmlAttributes = new { @class = " form-control w-50 dpbig " } })<br>

            </div>
            <div class="row mt-3">
                <div class="col-lg-6 pe-xl-4 pe-lg-4">
                    <div class="row mt-2 mt-lg-0 mt-sm-1 mt-xl-0 mt-xxl-0">
                        @if (ViewBag.Message == true)
                        {
                            <input type="submit" name="add" value="Add As Absent" disabled class="btn btn-danger btn-block">
                        }
                        else
                        {
                            <input type="submit" name="add" value="Add As Absent" class="btn btn-danger btn-block" />
                        }
                    </div>
                </div>
                <div class="col-lg-6 mt-2 mt-lg-0 mt-sm-1 mt-xl-0 mt-xxl-0 ps-xl-4 ps-lg-4">
                    <div class="row">
                        <input type="submit" name="update" value="Update List" class="btn btn-primary " />
                    </div>
                </div>
            </div>
        </div>

    }
</div>

<div class="container mb-3 mt-3">

    <table class="table table-striped table-bordered" id="tblAbsenceRecord">
        <thead>
            <tr>
               
                <th>Academic Period</th>
                <th>Record Date</th>
                <th>Student Name</th>
                <th>Total Number of Absences</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var k in Model.absenceList)
            {
                <tr>
                  
                    <td>@k.academicPeriod</td>
                    <td>@k.recordDate.ToShortDateString()</td>
                    <td>@k.studentId</td>
                    <td>@k.count</td>

                </tr>
            }
        </tbody>
    </table>
</div>

@if (ViewBag.successfulMessage != " " && ViewBag.successfulMessage != null)
{
    <div class="alert alert-success">
        @ViewBag.successfulMessage
    </div>
}
@if (ViewBag.MessageStatus != " " && ViewBag.MessageStatus != null)
{
<div class="alert alert-danger">
    @ViewBag.MessageStatus
</div>
}
<script type="text/javascript">
    $('option').mousedown(function (e) {
        e.preventDefault();
        $(this).prop('selected', !$(this).prop('selected'));
        return false;
    });
</script>
